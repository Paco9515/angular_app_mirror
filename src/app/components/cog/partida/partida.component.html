<div class="content-wrapper">
	<div class="row">
		<div class="col-12">
			<div class="panels shadow">
				<section class="content-header">
                    <div class="row">
                        <div class="col-8">
                            <h2 *ngIf="partida.id!=''">
                                Editar una partida
                            </h2>
                            <h2 *ngIf="partida.id==''">
                                Crear una partida
                            </h2>
                        </div>
                        <div class="col-4">
                            <button class="btn btn-outline-primary mt-2 btn-sm pull-right" type="button"
                                [routerLink]="['/panel-adm/partidas']"
                            >
                                <i class="fas fa-arrow-circle-left"></i>
                                Regresar
                            </button>
                        </div>
                    </div>            
                    <ol class="breadcrumb">
                        <li>
                            <i class="fa fa-folder-open"></i>
                            Clasificaci√≥n por objeto de gasto
                        </li>
                        <li>
                            Partida
                        </li>
                    </ol>
				</section>
		
				<section class="content container-fluid">
					<form (ngSubmit)="guardar(f)" #f="ngForm">
						<div class="form-group row">
							<label for="codigo" class="col-sm-2 col-form-label">
								Codigo
							</label>
							<div class="col-sm-10">
								<input type="text" class="form-control" placeholder="Ingresa el codigo" required
								name="codigo" [(ngModel)]="partida.codigo">
							</div>
						</div>
						<div class="form-group row">
							<label for="nombre" class="col-sm-2 col-form-label">
								Nombre
							</label>
							<div class="col-sm-10">
								<input type="text" class="form-control" placeholder="Ingresa el nombre" required name="nombre"
								[(ngModel)]="partida.nombre">
							</div>
                        </div>
                        <div class="form-group row">
							<label for="capitulo" class="col-sm-2 col-form-label">
								Capitulo
							</label>
							<div class="col-sm-10">
								<select class="form-control"  name="capitulo" 
								[(ngModel)]="partida.id_capitulo" #capitulo>
									<option value="">Seleccione un capitulo</option>
									<option *ngFor="let capitulo of capitulos" [value]="capitulo.id">
										{{ capitulo.nombre }}
									</option>
								</select>
							</div>
						</div>
						<div class="form-group row">
							<label for="concepto" class="col-sm-2 col-form-label">
								Concepto
							</label>
							<div class="col-sm-10">
								<select class="form-control" name="concepto"
									[(ngModel)]="partida.id_concepto">
									<option value="" disabled>Seleccione un concepto</option>
									<option *ngFor="let concepto of conceptos| filter:capitulo.value:'id_capitulo'" [value]="concepto.id">
										{{ concepto.nombre }}
									</option>
								</select>
							</div>
						</div>
						<div class="form-group row">
							<label for=status class="col-sm-2 col-form-label">
								Estado
							</label>
							<div class="col-sm-10">
								<span class="badge badge-success">
								    Activo
								</span>
							</div>
						</div>
						<div class="form-group row">
							<label for=status class="col-sm-2 col-form-label">
								Cuenta o Subcuenta
							</label>
						</div>
						<div class="form-group row">
							<label for="genero" class="col-sm-2 col-form-label">
								Generos
							</label>
							<div class="col-sm-10">
								<select class="form-control"  name="genero" 
								[(ngModel)]="partida.id_genero"
								#genero>
									<option value="">Seleccione un genero</option>
									<option *ngFor="let genero of generos" [value]="genero.id">
										{{ genero.nombre }}
									</option>
								</select>
							</div>
						</div>
						<div class="form-group row">
							<label for="grupo" class="col-sm-2 col-form-label">
								Grupo
							</label>
							<div class="col-sm-10">
								<select class="form-control"  name="grupo" 
								[(ngModel)]="partida.id_grupo" #grupo>
									<option value="">Seleccione un grupo</option>
									<option *ngFor="let grupo of grupos | filter: genero.value:'id_genero'" [value]="grupo.id">
										{{ grupo.nombre }}
									</option>
								</select>
							</div>
						</div>
						<div class="form-group row">
							<label for="rubro" class="col-sm-2 col-form-label">
								Rubro
							</label>
							<div class="col-sm-10">
								<select class="form-control"  name="rubro" 
								[(ngModel)]="partida.id_rubro" #rubro>
									<option value="">Seleccione un rubro</option>
									<option *ngFor="let rubro of rubros | filter: grupo.value:'id_grupo'" [value]="rubro.id">
										{{ rubro.nombre }}
									</option>
								</select>
							</div>
						</div>
						<div class="form-group row">
							<label for="cuenta" class="col-sm-2 col-form-label">
								Cuenta
							</label>
							<div class="col-sm-10">
								<select class="form-control"  name="cuenta" 
								[(ngModel)]="partida.id_cuenta">
									<option value="">Seleccione un cuenta</option>
									<option *ngFor="let cuenta of cuentas | filter: rubro.value:'id_rubro'" [value]="cuenta.id">
										{{ cuenta.nombre }}
									</option>
								</select>
							</div>
						</div>
						<div class="form-group row">
							<div class="col-12">
								<button class="btn btn-primary pull-right" type="submit" [disabled]="f.invalid || !f.dirty">
								<i class="fas fa-save"></i>
									Guardar
								</button>
							</div>
						</div>
					</form>
				</section>
			</div>
		</div>
	</div>
</div>